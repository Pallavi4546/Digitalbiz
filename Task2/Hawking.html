<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" type="text/css" href="css/main.css" />
</head>

<body class="task1">
    <main>
        <div class="content">
            <canvas class="scene" id="scene"></canvas>
            <div class="text">
                <h2 class="text__title">Hawking</h2>
                <h3 class="text__subtitle">A Biography</h2>
            </div>
        </div>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/97/three.min.js"></script>

    <script>
        var canvas = document.querySelector('#scene'); //set scene using canvas
        var width = window.innerWidth,
            height = window.innerHeight;
        var renderer = new THREE.WebGLRenderer({ //init renderer
            canvas: canvas, //bind canvas
            antialias: true, // edges softening
        });
        renderer.setPixelRatio(width / height); //resolution
        renderer.setSize(width, height); //scene size = canvas size
        renderer.setClearColor(0x191919); // background-color of scene
        var scene = new THREE.Scene(); // scene create
        var camera = new THREE.PerspectiveCamera(40, width / height, 0.1, 1000); //set camera
        camera.position.set(0, 0, 280); //pposition set
        var sphere = new THREE.Group(); //setting geometry(model), group = to display group of objects
        scene.add(sphere); // adding sphere object
        var mat1 = new THREE.LineBasicMaterial({ // color of line1
            color: 0xCCCCCC
        });
        var mat2 = new THREE.LineBasicMaterial({
            color: 0x3F51B5
        });
        var radius = 100;
var lines = 50;
// var dots = 50;
for(var i = 0; i < lines; i++) {
    var geometry = new THREE.Geometry();
    var line = new THREE.Line(this.geometry, (Math.random()>0.2)?mat1:mat2);
    line.speed = Math.random() * 300 + 250;
    line.wave = Math.random();
    line.radius = Math.floor(radius + (Math.random()-0.5) * (radius*0.2));
    for(var j=0;j<lines;j++){
        var x = ((j/lines) * line.radius * 2) - line.radius;
        var vector = new THREE.Vector3(x, 0, 0);
        geometry.vertices.push(vector);
    }
    line.rotation.x = Math.random() * 4;
    line.rotation.y = Math.random() * 4;
    line.rotation.z = Math.random() * 4;
    sphere.add(line);
}

function update(a) {
    var i, j, line, vector, y;
    for(i=0;i<lines;i++){
        line = sphere.children[i];
        for(j=0;j<lines;j++){
            vector = sphere.children[i].geometry.vertices[j];
            var ratio = 1 - ((line.radius - Math.abs(vector.x)) / line.radius);
            y = Math.sin(a/line.speed + j*0.15) * 12 * ratio;
            vector.y = y;
        }
        line.geometry.verticesNeedUpdate = true;
    }
}


function render(a) {
    requestAnimationFrame(render);
    update(a);
    sphere.rotation.y = (a * 0.0001);
    sphere.rotation.x = (-a * 0.0001);
    renderer.render(scene, camera);
}
requestAnimationFrame(render);
    </script>
</body>

</html>